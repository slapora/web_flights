<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Cities Map</title>
    
    <!-- Include Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />

    <!-- Style for the map -->
    <style>
        #map {
            height: 100vh; /* Full-screen height */
            width: 100%;  /* Full-screen width */
        }
    </style>
</head>
<body>

    <!-- Map container -->
    <div id="map"></div>

    <!-- Include Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

    <!-- Include Axios for easier data fetching -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script>
        // Initialize the map and set its view to the global scale
        var map = L.map('map').setView([20, 0], 2);

        // Add OpenStreetMap tiles (layer) to the map
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Dataset of cities with populations over 1 million
        var cities = [
            { name: "Tokyo", country: "Japan", lat: 35.682839, lon: 139.759455, population: 37435191 },
            { name: "Delhi", country: "India", lat: 28.704060, lon: 77.102493, population: 28514000 },
            { name: "Shanghai", country: "China", lat: 31.230416, lon: 121.473701, population: 25582000 },
            { name: "SÃ£o Paulo", country: "Brazil", lat: -23.550520, lon: -46.633308, population: 21650000 },
            { name: "Mexico City", country: "Mexico", lat: 19.432608, lon: -99.133209, population: 21581000 },
            { name: "Cairo", country: "Egypt", lat: 30.044420, lon: 31.235712, population: 20076000 },
            { name: "Mumbai", country: "India", lat: 19.076090, lon: 72.877426, population: 19980000 },
            { name: "Beijing", country: "China", lat: 39.904202, lon: 116.407394, population: 19618000 },
            { name: "Dhaka", country: "Bangladesh", lat: 23.810331, lon: 90.412521, population: 19578000 },
            { name: "Osaka", country: "Japan", lat: 34.693738, lon: 135.502165, population: 19281000 },
            { name: "New York City", country: "USA", lat: 40.712776, lon: -74.005974, population: 18804000 },
            { name: "Karachi", country: "Pakistan", lat: 24.860735, lon: 67.001137, population: 16459000 },
            { name: "Buenos Aires", country: "Argentina", lat: -34.603722, lon: -58.381592, population: 14967000 },
            { name: "Istanbul", country: "Turkey", lat: 41.008238, lon: 28.978359, population: 14841000 },
            { name: "Kolkata", country: "India", lat: 22.572645, lon: 88.363892, population: 14680000 },
            { name: "Manila", country: "Philippines", lat: 14.599512, lon: 120.984222, population: 13923000 },
            { name: "Lagos", country: "Nigeria", lat: 6.524379, lon: 3.379206, population: 13407000 },
            { name: "Rio de Janeiro", country: "Brazil", lat: -22.906847, lon: -43.172896, population: 13293000 },
            { name: "Guangzhou", country: "China", lat: 23.129110, lon: 113.264385, population: 12738000 },
            { name: "Los Angeles", country: "USA", lat: 34.052235, lon: -118.243683, population: 12479000 },
            { name: "Moscow", country: "Russia", lat: 55.755825, lon: 37.617298, population: 12326000 },
            { name: "Kinshasa", country: "DR Congo", lat: -4.441931, lon: 15.266293, population: 11932000 },
            { name: "Tianjin", country: "China", lat: 39.084158, lon: 117.200983, population: 11763000 },
            { name: "Paris", country: "France", lat: 48.856613, lon: 2.352222, population: 11020000 },
            { name: "Shenzhen", country: "China", lat: 22.543096, lon: 114.057865, population: 10462000 },
            { name: "Jakarta", country: "Indonesia", lat: -6.208763, lon: 106.845599, population: 10343000 },
            { name: "London", country: "UK", lat: 51.507351, lon: -0.127758, population: 9304000 },
            { name: "Bangkok", country: "Thailand", lat: 13.756331, lon: 100.501762, population: 8281000 }
        ];

        // Function to add a city marker to the map
        function addCityMarker(city) {
            var marker = L.marker([city.lat, city.lon]).addTo(map);

            // Bind a popup to the marker with city details
            marker.bindPopup("<b>" + city.name + "</b><br>" + city.country + "<br>Population: " + city.population.toLocaleString());
        }

        // Loop through each city and add a marker on the map
        cities.forEach(function(city) {
            addCityMarker(city);
        });
    </script>

</body>
</html>
